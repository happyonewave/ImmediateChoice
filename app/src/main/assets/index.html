<!DOCTYPE html>
<html style="height: 100%; margin: 0;">

<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="js/echarts.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/jquery-2.1.0.js" type="text/javascript" charset="utf-8"></script>
</head>

<body style="height: 100%; margin: 0;">
<!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
<div id="main" style="width: 100%;height:100%; padding: 0px; margin: 0px;"></div>
</div>
<script type="text/javascript">
				var myChart = echarts.init(document.getElementById('main'));
				refrech(2);
				function refrech(questionId) {
					$.post("http://192.168.1.200:8080/Server/QuestionnaireServlet", {
							questionnaire_quuestion_id: questionId
						},
						function(data) {
							console.log("Data Loaded: " + data);
							var json = JSON.parse(data);
							var name = json.question_title;
							var data = json.data;
							var option_title = new Array();
							for(var i = 0; i < data.length; i++) {
								option_title.push(data[i].name);
							}
							myChart.setOption({
								tooltip: {
									trigger: 'item',
									formatter: "{a} <br/>{b}: {c} ({d}%)"
								},
								legend: {
									orient: 'vertical',
									x: 'left',
									data: option_title
								},
								series: [{
									name: name,
									type: 'pie',
									radius: ['100%', '70%'],
									avoidLabelOverlap: true,
									label: {
										normal: {
											show: false,
											position: 'center'
										},
										emphasis: {
											show: true,
											textStyle: {
												fontSize: '30',
												fontWeight: 'bold'
											}
										}
									},
									labelLine: {
										normal: {
											show: true
										}
									},
									data: data
								}]
							});

							window.onresize = myChart.resize;
						})
				}
			</script>
</body>

</html>